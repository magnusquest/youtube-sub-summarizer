# Task: Project Setup & Configuration

## Objective
Establish project structure, dependencies, and configuration management for the YouTube subscription summarizer.

## Acceptance Criteria
- [ ] Python virtual environment created and activated
- [ ] All required dependencies installed via `requirements.txt`
- [ ] `.env` file template created with all necessary API keys
- [ ] `.gitignore` configured to exclude secrets and generated files
- [ ] Project directory structure follows best practices
- [ ] Configuration can be loaded from environment variables
- [ ] README.md includes setup instructions

## Implementation Approach

### 1. Create Python Virtual Environment
```bash
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

### 2. Create `requirements.txt`
```
google-api-python-client
youtube-transcript-api
openai
python-dotenv
pytest
```

### 3. Create Project Directory Structure
```
youtube-sub-summarizer/
├── src/
│   ├── __init__.py
│   ├── config.py          # Load environment variables
│   ├── youtube_client.py
│   ├── transcript.py
│   ├── summarizer.py
│   ├── email_sender.py
│   ├── database.py
│   └── main.py
├── data/
│   └── audio/
├── logs/
├── .env.example
├── .gitignore
├── requirements.txt
└── README.md
```

### 4. Create `.env.example`
```
YOUTUBE_API_KEY=your_youtube_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
EMAIL_RECIPIENT=your_email@gmail.com
OPENAI_TTS_VOICE=alloy
```

### 5. Create `.gitignore`
```
# Python
venv/
__pycache__/
*.py[cod]
*$py.class
*.so
.Python

# Environment
.env
.venv

# Data
data/*.db
data/audio/*.mp3
logs/*.log

# IDE
.vscode/
.idea/
*.swp
*.swo
```

### 6. Implement `src/config.py`
```python
import os
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

# YouTube API
YOUTUBE_API_KEY = os.getenv('YOUTUBE_API_KEY')

# OpenAI API
OPENAI_API_KEY = os.getenv('OPENAI_API_KEY')
OPENAI_TTS_VOICE = os.getenv('OPENAI_TTS_VOICE', 'alloy')

# Email configuration
SMTP_SERVER = os.getenv('SMTP_SERVER')
SMTP_PORT = int(os.getenv('SMTP_PORT', 587))
SMTP_USERNAME = os.getenv('SMTP_USERNAME')
SMTP_PASSWORD = os.getenv('SMTP_PASSWORD')
EMAIL_RECIPIENT = os.getenv('EMAIL_RECIPIENT')

# Validate required variables
required_vars = [
    'YOUTUBE_API_KEY',
    'OPENAI_API_KEY',
    'SMTP_SERVER',
    'SMTP_USERNAME',
    'SMTP_PASSWORD',
    'EMAIL_RECIPIENT'
]

for var in required_vars:
    if not os.getenv(var):
        raise ValueError(f"Missing required environment variable: {var}")
```

### 7. Update `README.md`
Include sections for:
- Project overview
- Prerequisites (Python 3.9+, API keys)
- Installation steps
- Configuration guide
- Usage instructions
- Troubleshooting

## Subtasks Checklist
- [ ] Create virtual environment: `python3 -m venv venv`
- [ ] Create `requirements.txt` with all dependencies
- [ ] Create `.env.example` with all required variables
- [ ] Create `.gitignore` (include `.env`, `venv/`, `*.db`, `logs/`)
- [ ] Create project directory structure (`src/`, `data/`, `data/audio/`, `logs/`)
- [ ] Create placeholder `__init__.py` files in `src/`
- [ ] Write `src/config.py` to load environment variables
- [ ] Update README.md with setup instructions
- [ ] Install dependencies: `pip install -r requirements.txt`
- [ ] Verify configuration loads without errors

## Dependencies
- **Blocked by:** None (first task)
- **Blocks:** All other tasks
- **Requires:** Python 3.9+

## Estimated Effort
1-2 hours

## Notes
- Use `python-dotenv` to keep secrets out of code
- `.env.example` should have placeholder values, not real keys
- Test that `config.py` raises errors for missing required variables
- Create empty `__init__.py` files to make `src/` a proper Python package

## Related Documentation
See `docs/ideas/email-digest-system/tasks/project-setup/TASK.md` for additional context.
